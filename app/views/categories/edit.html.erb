<h1 class="text-center text-2xl font-bold my-4">
  Modifier la categorie
</h1>

<main>

  <%= form_for @category, html: { class: "space-y-4" }  do |f| %>

    <div class="md:w-1/2 mx-auto space-y-1">
      <%= f.label :name, "Nom de la catégorie", class: "block" %>
      <%= f.text_field :name, placeholder: "T-shirts", class: "bg-gray-600 w-full rounded-sm" %>
    </div>

    <div class="md:w-1/2 mx-auto space-y-1">

      <%= f.label :photo, "Photo de la catégorie", class: "block" %>
      <%= f.hidden_field :photo, value: @category.photo.attached? ? @category.photo.signed_id : nil %>
      <%= f.file_field :photo, as: :file, class: "w-32 h-32 object-cover rounded-sm",  direct_upload: true, class: "bg-gray-600 w-full rounded-sm" %>

      <% if @category.photo.attached? %>
        <div class="mt-2 flex justify-center">
          <%= cl_image_tag @category.photo.key, class: "w-32 h-32 object-cover rounded-sm" %>
        </div>
      <% end %>

    </div>

    <div class="text-center space-x-4">

      <%= f.submit "Modifier la catégorie", class: "cursor-pointer bg-blue-800 px-4 py-2 rounded-sm hover:bg-blue-700 transition hover:duration-300 " %>
      <%= link_to "Supprimer", category_path(@category), data: {turbo_method: :delete, turbo_confirm: "Supprimer la catégorie ?"}, class: "bg-red-800 px-4 py-2 rounded-sm hover:bg-red-700 transition hover:duration-300" %>

    </div>

  <% end %>

</main>
